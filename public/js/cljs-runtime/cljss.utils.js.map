{"version":3,"file":"cljss.utils.js","sources":["cljss/utils.cljc"],"mappings":";;;AAGS,AAAKA,yBAAcC;AAE5B,4BAAA,oCAAAC,hEAAMG;AAAN,AAAA,IAAAF,aAAAD;WAAA,AAAAE,4CAAAD,WAAA,IAAA,lEAAgBG;YAAhB,AAAAF,4CAAAD,WAAA,IAAA,nEAAqBI;AAArB,AACE,IAAAC,oBAAK,qBAAA,rBAACC,4BAAmB,AAACC,eAAKJ;AAA/B,AAAA,oBAAAE;AACK,OAACG,qBAAKJ;;AADXC;;;AAGF,4BAAA,oCAAAI,hEAAME;AAAN,AAAA,IAAAD,aAAAD;WAAA,AAAAR,4CAAAS,WAAA,IAAA,lEAAgBP;YAAhB,AAAAF,4CAAAS,WAAA,IAAA,nEAAqBN;AAArB,AACE,SAAK,OAASD,uBACT,AAACK,qBAAKJ;;AAEb,6BAAA,7BAAMQ,kEAAUC;AAAhB,AACE,SAAI,OAASA,oBAAG,OAASA;;AAE3B,yBAAA,zBAAMC,0DAAYX,KAAKY;AAAvB,AACE,GAAI,kDAAA,lDAACC,6CAAEb;AACL,OAACc,wGAAOF;;AACRA;;;AAEJ,wBAAA,xBAAMG,wDAAWC,IAAIC;AAArB,oEAEO,AAACC,4CAAI,WAAAC,5GACL,kDAAA,lDAACE,fACD,IAAAC;AAFK,AAAA,IAAAF,aAAAD;WAAA,AAAArB,4CAAAsB,WAAA,IAAA,lEAAMpB;UAAN,AAAAF,4CAAAsB,WAAA,IAAA,jEAAWR;AAAX,AAAiB,0EAAA,kFAAA,xGAAK,AAACR,eAAKJ,uDAAU,AAACW,uBAAWX,KAAKY;GAD5DK;IAGAM,eAAA;kBAAAC;AAAA,AAAE,QAAA,qDAAA,gDAAAA,kBAAA,vEAASR;;;AAAX,AAAA,OAAAO,aAAAD;;AAEP,+BAAA,uCAAAG,tEAAME;AAAN,AAAA,IAAAD,aAAAD;WAAA,AAAA3B,4CAAA4B,WAAA,IAAA,lEAAyB1B;UAAzB,AAAAF,4CAAA4B,WAAA,IAAA,jEAA8Bd;AAA9B,AACE,QAAA,JAAMgB,uFAAG,mEAAA,tBAAK,AAACxB,eAAKJ;IACd4B,QAAE,EAAI,AAACC,wBAAQjB,MACX,AAACkB,6CAAKF,EAAEhB,KACR,AAACmB,6CAAKH,EAAEhB;AAHlB,AAIE,0DAAA,nDAACmB,6CAAKH;;AAEV,yBAAA,zBAAMI,0DAAYC;AAAlB,AACE,yBACK,AAACC,+CACC,WAAKD,MAAEE,lFAOTO;AAPE,AACE,IAAMN,KAAG,AAACC,gBAAMJ;IACVK,QAAM,AAACC,eAAKN;AADlB,AAEE,oBAAI,iBAAA/B,oBAAK,AAACO,2BAAS0B;AAAf,AAAA,oBAAAjC;AAAmB,cAASkC;;AAA5BlC;;;AACF,OAACsC,eAAK,6CAAKJ,gDAAGD,cAAIG;;AAClB,OAACE,eAAKL,GAAGF;;+CAPjBA,5CAQE,KAAAQ,eAAA,KAAA,GAAA,KAAA,IAAA","names":["cljss.utils/dev?","goog/DEBUG","p__26042","vec__26043","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","cljss.utils/pseudo?","rule","value","and__3938__auto__","cljs.core/re-matches","cljs.core/name","cljs.core/map?","p__26046","vec__26049","cljss.utils/nested?","cljss.utils/literal?","x","cljss.utils/escape-val","val","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic","cljss.utils/build-css","cls","styles","cljs.core.map.cljs$core$IFn$_invoke$arity$2","p__26068","vec__26069","clojure.string.join.cljs$core$IFn$_invoke$arity$2","G__26067","fexpr__26066","p1__26065#","p__26073","vec__26074","cljss.utils/compile-css-rule","r","cljs.core/vector?","cljs.core.into.cljs$core$IFn$_invoke$arity$2","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","cljss.utils/reduce-str","s","cljs.core.reduce.cljs$core$IFn$_invoke$arity$3","s1","s0","cljs.core/first","srest","cljs.core/rest","cljs.core/cons","cljs.core/List","cljs.core/reverse"],"sourcesContent":["(ns cljss.utils\n  (:require [clojure.string :as cstr]))\n\n#?(:cljs (def dev? ^boolean goog.DEBUG))\n\n(defn pseudo? [[rule value]]\n  (and (re-matches #\"&:.*\" (name rule))\n       (map? value)))\n\n(defn nested? [[rule value]]\n  (and (string? rule)\n       (map? value)))\n\n(defn literal? [x]\n  (or (string? x) (number? x)))\n\n(defn escape-val [rule val]\n  (if (= rule :content)\n    (pr-str val)\n    val))\n\n(defn build-css [cls styles]\n  (->> styles\n       (map (fn [[rule val]] (str (name rule) \":\" (escape-val rule val) \";\")))\n       (cstr/join \"\")\n       (#(str \".\" cls \"{\" % \"}\"))))\n\n(defn compile-css-rule [[rule val]]\n  (let [r [(str (name rule) \":\")]\n        r (if (vector? val)\n            (into r val)\n            (conj r val))]\n    (conj r \";\")))\n\n(defn reduce-str [s]\n  (->> s\n       (reduce\n         (fn [s s1]\n           (let [s0 (first s)\n                 srest (rest s)]\n             (if (and (literal? s1) (string? s0))\n               (cons (str s0 s1) srest)\n               (cons s1 s))))\n         (list \"\"))\n       reverse))\n\n#?(:clj\n   (defn resolve-get\n     \"Tries to resolve a var and get its value. Returns the symbol if failed.\"\n     [sym]\n     (try\n       (var-get (resolve sym))\n       (catch Exception e\n         sym))))\n"]}